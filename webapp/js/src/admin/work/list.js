define(["jquery","component/dom-ui","./list/editor","./list/itemContainer","./context"],function(a,b){function c(a,b){return'<a href="/resource/'+b.saveName+'">'+a+"</a>"}function d(b,c,e){var f,g,h='<ul data-id="'+c.id+'">',i={},j=d.types;return a.each(c,function(a,d){(e?-1===e.indexOf(a):0)||(g=j[a],f=g?g(b,d,c):d,i[f.index]='<li class="'+a+'" title="'+(f.title||d)+'">'+(f.value||d)+"</li>")}),a.each(i,function(a,b){h+=b}),h+"</ul>"}d.types={orignalName:function(a,b,d){return{title:b,value:c(b,d),index:3}},size:function(a,b,c){return{index:5}},uploadTime:function(a,b,c){return{index:4}},fileType:function(a,b,d){return{title:"img",value:c('<i class="img-icons-file-l '+b+'"></i>',d),index:2}}};var e={init:function(){this.resourceRefresh()},eventHandlers:{"click ._work .delete":function(a){var b={success:function(){alert("삭제 완료"),location.reload()},error:function(){alert("삭제 실패\n한컴 관리자에 문의하세요")}};this.getJSON("/admin/work/delete/"+a.item.id,b)},"mouseover ._work .delete":function(a){a.item.find("._work").addClass("delete")},"mouseout ._work .delete":function(a){a.item.find("._work").removeClass("delete")},"click [data-info]":function(b){b.preventDefault();var c=this,d=b.currentTarget,e=d.getAttribute("data-info"),f=d.getAttribute("data-info-key");url="/admin/"+e+"/ajax/get/id/"+f,element=a(".info-"+e),a.ajax(url).success(function(a){c.popInfo(element,a)})},"click [data-editor]":function(a){a.preventDefault(),a.item.editor({openTab:a.currentTarget.getAttribute("data-editor")})},"focusout ._work-wrap":"initialize"},refresh:function(){this.refreshItemData(),this.resourceRefresh()},refreshItemData:function(){var a=this;this.getJSON(this.URL("/admin/work/editor/get/"),function(b){a.values(b)})},resourceRefresh:function(){var b=this.find("._pop-file-refer");a.getJSON("/admin/work/get/resource/size/"+this.id).success(function(a){a.size>0?(b.removeClass("disable"),b.find(".size").text(a.size)):b.addClass("disable")})},initialize:function(a){}};a("._work-container").itemContainer({extendOfItem:e})});
//# sourceMappingURL=list.js.map