define(["jquery","#json!json/itemCategory.json","component/dom-ui","./list/editor","./list/itemContainer","./context"],function(a,b){function c(a,b){return'<a href="/resource/'+b.saveName+'">'+a+"</a>"}function d(b,c,e){var f,g,h='<ul data-id="'+c.id+'">',i={},j=d.types;return a.each(c,function(a,d){(e?-1===e.indexOf(a):0)||(g=j[a],f=g?g(b,d,c):d,i[f.index]='<li class="'+a+'" title="'+(f.title||d)+'">'+(f.value||d)+"</li>")}),a.each(i,function(a,b){h+=b}),h+"</ul>"}var e,f='<div class="_item-names drop-box ui-helper-hidden">';a.each(b,function(b,c){e='<ul><li class="header">'+b+"</li>",a.each(c,function(a,b){e+="<li data-value>"+b+"</li>"}),f+=e+"</ul>"}),f=a(f+"</div>").appendTo(".item-category"),d.types={orignalName:function(a,b,d){return{title:b,value:c(b,d),index:3}},size:function(a,b,c){return{index:5}},uploadTime:function(a,b,c){return{index:4}},fileType:function(a,b,d){return{title:"img",value:c('<i class="img-icons-file-l '+b+'"></i>',d),index:2}}};var g={eventHandlers:{"click ._work .delete":function(b){confirm("정말 삭제하시겠습니까?")&&a.getJSON("/admin/work/delete/"+b.item.id).success(function(){alert("삭제 완료"),location.reload()}).fail(function(){alert("삭제 실패\n한컴 관리자에 문의하세요")})},"mouseover ._work .delete":function(a){a.item.find("._work").addClass("delete")},"mouseout ._work .delete":function(a){a.item.find("._work").removeClass("delete")},"click [data-info]":function(b){b.preventDefault();var c=this,d=b.currentTarget,e=d.getAttribute("data-info"),f=d.getAttribute("data-info-key");url="/admin/"+e+"/ajax/get/id/"+f,element=a(".info-"+e),a.ajax(url).success(function(a){c.popInfo(element,a)})},"click [data-editor]":function(a){a.preventDefault(),a.item.editor({openTab:a.currentTarget.getAttribute("data-editor")})},"click ._work-controller":function(b){var c=a(b.currentTarget);b.ctrlKey&&c.toggleClass("editor")},"dropdownon .confirm-upload":function(b){a(b.currentTarget).find("input").val(""),a(b.currentTarget).find("button").addClass("ui-helper-hidden")},"change .confirm-upload > input":function(b){b.currentTarget.files.length?a(b.currentTarget).next().removeClass("ui-helper-hidden"):a(b.currentTarget).next().addClass("ui-helper-hidden")},"click .confirm-upload > button":function(b){b.preventDefault(),b.item.resourceUpload("workConfirmFile",b.currentTarget.previousSibling.files,function(){b.item.confirmFile(),this.find(".editor").trigger("ui-disable"),a("._work-controller").removeClass("editor"),parseInt(this.state)<3&&confirm("작업상황을 바꾸시겠습니까?")&&(location.href="/admin/work/set/state/"+this.id+"/3")})},"click ._work-img":function(a){a.item.gallery()},"focusout ._work-wrap":"initialize"},initialize:function(a){}};a("._work-container").itemContainer({extendOfItem:g})});
//# sourceMappingURL=list.js.map